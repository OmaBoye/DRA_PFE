{% extends "patient_portal/base.html" %}
{% load static %}

{% block content %}
    <!-- Hero Section -->
    <section class="hero-section text-center">
        <div class="container">
            <h1 class="display-4 mb-4">Votre santé, notre priorité</h1>
            <p class="lead mb-5">Des soins médicaux exceptionnels pour vous et votre famille</p>
            <a href="#appointment" class="btn btn-primary btn-lg px-4 me-2">
                <i class="fas fa-calendar-check me-2"></i> Prendre rendez-vous
            </a>
            {% if not user.is_authenticated %}
            <a href="{% url 'patient_portal:signup' %}" class="btn btn-secondary btn-lg px-4">
                <i class="fas fa-user-plus me-2"></i> Créer un compte
            </a>
            {% endif %}
        </div>
    </section>

    <!-- Features Section -->
    <section class="py-5 bg-light">
        <div class="container">
            <div class="row g-4">
                <div class="col-md-4">
                    <div class="feature-box bg-white text-center">
                        <div class="feature-icon mb-3">
                            <i class="fas fa-user-md fa-3x text-primary"></i>
                        </div>
                        <h4>Médecins qualifiés</h4>
                        <p>Professionnels de santé expérimentés et dévoués à votre bien-être.</p>
                    </div>
                </div>
                <div class="col-md-4">
                    <div class="feature-box bg-white text-center">
                        <div class="feature-icon mb-3">
                            <i class="fas fa-ambulance fa-3x text-primary"></i>
                        </div>
                        <h4>Urgences 24/7</h4>
                        <p>Service d'urgence disponible à tout moment pour vos besoins critiques.</p>
                    </div>
                </div>
                <div class="col-md-4">
                    <div class="feature-box bg-white text-center">
                        <div class="feature-icon mb-3">
                            <i class="fas fa-flask fa-3x text-primary"></i>
                        </div>
                        <h4>Laboratoire moderne</h4>
                        <p>Équipements de pointe pour des résultats précis et rapides.</p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- About Section -->
    <section id="about" class="py-5">
        <div class="container">
            <div class="row align-items-center">
                <div class="col-md-6">
                    <h2 class="mb-4">À propos de notre clinique</h2>
                    <p>Fondée en 2010, notre clinique s'engage à fournir des soins médicaux de haute qualité dans un environnement chaleureux et accueillant.</p>
                    <p>Notre équipe de professionnels de santé dévoués travaille sans relâche pour assurer votre bien-être et votre confort.</p>
                    <ul class="list-unstyled">
                        <li><i class="fas fa-check text-primary me-2"></i> Équipements modernes</li>
                        <li><i class="fas fa-check text-primary me-2"></i> Professionnels certifiés</li>
                        <li><i class="fas fa-check text-primary me-2"></i> Approche patient-centrée</li>
                    </ul>
                </div>
                <div class="col-md-6">
                    <img src="{% static 'images/about-img.jpg' %}" alt="Notre clinique" class="img-fluid rounded">
                </div>
            </div>
        </div>
    </section>

    <!-- Services Section -->
    <section id="services" class="py-5 bg-light">
        <div class="container">
            <div class="text-center mb-5">
                <h2>Nos services médicaux</h2>
                <p class="lead">Des soins complets pour toute la famille</p>
            </div>
            <div class="row g-4">
                <div class="col-md-4">
                    <div class="card border-0 shadow-sm h-100">
                        <div class="card-body text-center">
                            <i class="fas fa-heartbeat fa-3x text-primary mb-3"></i>
                            <h5>Cardiologie</h5>
                            <p>Diagnostic et traitement des maladies cardiaques et vasculaires.</p>
                        </div>
                    </div>
                </div>
                <div class="col-md-4">
                    <div class="card border-0 shadow-sm h-100">
                        <div class="card-body text-center">
                            <i class="fas fa-brain fa-3x text-primary mb-3"></i>
                            <h5>Neurologie</h5>
                            <p>Prise en charge des troubles du système nerveux.</p>
                        </div>
                    </div>
                </div>
                <div class="col-md-4">
                    <div class="card border-0 shadow-sm h-100">
                        <div class="card-body text-center">
                            <i class="fas fa-lungs fa-3x text-primary mb-3"></i>
                            <h5>Pneumologie</h5>
                            <p>Soins pour les maladies respiratoires et pulmonaires.</p>
                        </div>
                    </div>
                </div>
                <div class="col-md-4">
                    <div class="card border-0 shadow-sm h-100">
                        <div class="card-body text-center">
                            <i class="fas fa-bone fa-3x text-primary mb-3"></i>
                            <h5>Orthopédie</h5>
                            <p>Traitement des problèmes musculo-squelettiques.</p>
                        </div>
                    </div>
                </div>
                <div class="col-md-4">
                    <div class="card border-0 shadow-sm h-100">
                        <div class="card-body text-center">
                            <i class="fas fa-child fa-3x text-primary mb-3"></i>
                            <h5>Pédiatrie</h5>
                            <p>Soins spécialisés pour les nourrissons et les enfants.</p>
                        </div>
                    </div>
                </div>
                <div class="col-md-4">
                    <div class="card border-0 shadow-sm h-100">
                        <div class="card-body text-center">
                            <i class="fas fa-eye fa-3x text-primary mb-3"></i>
                            <h5>Ophtalmologie</h5>
                            <p>Diagnostic et traitement des troubles oculaires.</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Appointment Section -->
    <section id="appointment" class="py-5">
        <div class="container">
            <div class="row">
                <div class="col-lg-6">
                    <h2 class="mb-4">Prendre rendez-vous</h2>
                    <p>Planifiez votre visite en remplissant le formulaire ou en appelant notre secrétariat.</p>
                    <div class="d-flex align-items-center mb-3">
                        <i class="fas fa-phone-alt fa-2x text-primary me-3"></i>
                        <div>
                            <h5 class="mb-0">Appelez-nous</h5>
                            <p class="mb-0">01 23 45 67 89</p>
                        </div>
                    </div>
                    <div class="d-flex align-items-center">
                        <i class="fas fa-envelope fa-2x text-primary me-3"></i>
                        <div>
                            <h5 class="mb-0">Envoyez un email</h5>
                            <p class="mb-0">rendezvous@cliniqueplus.fr</p>
                        </div>
                    </div>
                </div>
                <div class="col-lg-6">
                    <div class="card shadow-sm">
                        <div class="card-body p-4">
                            <h5 class="card-title mb-4">Formulaire de rendez-vous</h5>
                            <form>
                                <div class="mb-3">
                                    <input type="text" class="form-control" placeholder="Votre nom">
                                </div>
                                <div class="mb-3">
                                    <input type="email" class="form-control" placeholder="Votre email">
                                </div>
                                <div class="mb-3">
                                    <input type="tel" class="form-control" placeholder="Votre téléphone">
                                </div>
                                <div class="mb-3">
                                    <select class="form-select">
                                        <option selected>Choisir un service</option>
                                        <option>Consultation générale</option>
                                        <option>Cardiologie</option>
                                        <option>Neurologie</option>
                                        <option>Pédiatrie</option>
                                    </select>
                                </div>
                                <div class="mb-3">
                                    <input type="date" class="form-control">
                                </div>
                                <button type="submit" class="btn btn-primary w-100">Demander un rendez-vous</button>
                            </form>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Patient Portal Section (for logged in users) -->
    {% if user.is_authenticated %}
    <section class="py-5 bg-light">
        <div class="container">
            <div class="row justify-content-center">
                <div class="col-lg-8">
                    <div class="card shadow-sm">
                        <div class="card-body p-4">
                            <h3 class="mb-4"><i class="fas fa-user-circle me-2"></i>Mon espace patient</h3>

                            <div class="d-grid gap-2 mb-4">
                                <a href="{% url 'patient_portal:submit_sample' %}" class="btn btn-outline-primary text-start py-3">
                                    <i class="fas fa-plus-circle me-2"></i> Nouvelle demande de test
                                </a>
                            </div>

                            {% if results %}
                            <h5 class="mb-3"><i class="fas fa-file-medical me-2"></i>Mes derniers résultats</h5>
                            <div class="list-group">
                                {% for result in results %}
                                <a href="{% url 'patient_portal:result_detail' pk=result.pk %}" class="list-group-item list-group-item-action">
                                    <div class="d-flex justify-content-between">
                                        <div>
                                            <h6 class="mb-1">{{ result.sample.analysis_type.name }}</h6>
                                            <small class="text-muted">Prélevé le {{ result.sample.collection_date|date:"d/m/Y" }}</small>
                                        </div>
                                        <span class="badge bg-{% if result.status == 'completed' %}success{% else %}warning{% endif %}">
                                            {{ result.get_status_display }}
                                        </span>
                                    </div>
                                </a>
                                {% endfor %}
                            </div>
                            {% endif %}
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>
    {% endif %}
{% endblock %}